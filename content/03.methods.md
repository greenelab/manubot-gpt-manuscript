# Methods

We implemented an AI-assisted publishing infrastructure in Manubot [@doi:10.1371/journal.pcbi.1007128].
Manubot takes Markdown as input and produces HTML, PDF, or other formats supported by pandoc as output.
It includes a system for citing sources using persistent identifiers.
The workflows are implemented in continuous integration software (e.g.
Appveyor, GitHub Actions) and run with each commit.

We used the OpenAI API to access large language models, focusing on its completion endpoints.
To avoid incurring costs with each run, which depend on the length of the manuscript, we implemented our workflow in GitHub actions, allowing the user to trigger it.
The user can also select the model they wish to use, allowing for cost optimization.
With the most complex model, `text-davinci-003`, the cost per run is under $0.50 for most manuscripts.

When the user initiates the process, the manuscript is broken down into sections and paragraphs and sent to the AI model along with specific prompts.
The output is then formatted and presented to the user, who can review it and make changes before merging it into the document.
This workflow enables the user to decide who should be credited for the output of the AI model, which may be important in the event of any legal changes regarding the copyright of generative models.
